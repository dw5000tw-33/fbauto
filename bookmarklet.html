<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>33 一鍵面板書籤 · FB 相容版</title>
  <style>
    :root { --bg:#0b1020; --card:#111827; --text:#e5e7eb; --muted:#94a3b8; --primary:#22d3ee; }
    * { box-sizing: border-box; }
    body { margin:0; background:linear-gradient(180deg,#080c19,#0b1020); color:var(--text);
            font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans TC",sans-serif; }
    .wrap { max-width:880px; margin:48px auto; padding:0 16px; }
    h1 { font-size:clamp(22px,3.6vw,36px); margin:0 0 8px; letter-spacing:.3px; }
    p.lead { color:var(--muted); margin:0 0 24px; }
    .card { background:rgba(17,24,39,.75); border:1px solid #1f2937; border-radius:16px; padding:18px; }
    .cta { display:inline-flex; align-items:center; gap:10px; padding:14px 18px; border-radius:14px;
            background:linear-gradient(180deg,#1f2937,#0c1222); border:1px solid #1f2937; color:#fff;
            text-decoration:none; font-size:18px; box-shadow:0 8px 22px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06); }
    .cta:hover { border-color:#334155; transform: translateY(-1px); transition: all .18s ease; }
    .emoji { font-size:22px; }
    code { background:#0b1222; border:1px solid #111827; padding:2px 6px; border-radius:6px; font-size:90%; }
    ol { padding-left:20px; }
    footer { margin:28px 0; color:#9aa7b7; font-size:13px; }
    .only-one { display:flex; align-items:center; gap:14px; }
    .hint { color:#9aa7b7; font-size:13px; margin-top:8px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>一鍵面板書籤（33 愛分享）</h1>
    <p class="lead">把下面這<strong>唯一的一顆</strong>按鈕拖到瀏覽器的書籤列。以後在任何頁面點它，就會開啟面板。</p>

    <div class="card">
      <div class="only-one">
        <a class="cta" href="javascript:(()=>{const ORI='https://dw5000tw-33.github.io';const nonce=Math.random().toString(36).slice(2)+Date.now();let w;function inject(code){try{const b=new Blob([code],{type:'text/javascript'});const u=URL.createObjectURL(b);const s=document.createElement('script');s.src=u;s.onload=()=>URL.revokeObjectURL(u);document.documentElement.appendChild(s);}catch(e){alert('注入失敗: '+(e.message||e));}}function onMsg(ev){if(ev.origin!==ORI||ev.source!==w)return;const d=ev.data||{};if(d.type==='READY'&&d.nonce===nonce){ev.source.postMessage({type:'GIMME_CODE',nonce},ORI);}else if(d.type==='PANEL_CODE'&&d.nonce===nonce&&typeof d.code==='string'){window.removeEventListener('message',onMsg);inject(d.code);try{w&&w.close();}catch{}}}window.addEventListener('message',onMsg);const url=ORI+'/fbauto/panel-bootstrap.html?nonce='+encodeURIComponent(nonce);w=window.open(url,'_blank','width=480,height=320');if(!w)alert('請允許彈出式視窗');})();"><span class="emoji">🧹</span><span>開啟面板（33 版）</span></a>
        <div>
          <div>拖曳到書籤列 → 成功後書籤名可改成你喜歡的符號（建議：<code>🧹</code> 或 <code>33</code>）。</div>
          <div class="hint">第一次若被瀏覽器阻擋彈出視窗，請按允許。</div>
        </div>
      </div>
    </div>

    <div class="card" style="margin-top:18px">
      <h3 style="margin:0 0 8px">超快兩步安裝</h3>
      <ol style="margin:8px 0">
        <li>顯示書籤列：<b>Ctrl+Shift+B</b>（Chrome / Edge / Brave）。</li>
        <li>把上方「開啟面板（33 版）」按鈕拖到書籤列即可。</li>
      </ol>
    </div>

    <div class="card" style="margin-top:18px">
      <h3 style="margin:0 0 8px">使用</h3>
      <p style="margin:8px 0">開啟任一網站 → 點書籤「開啟面板（33 版）」 → 面板視窗會跳出並完成握手後注入腳本。</p>
      <ul style="margin:8px 0; padding-left:20px">
        <li>此版本使用 <code>Blob</code> 注入（相容 Facebook CSP）。</li>
        <li>已加入 <code>nonce</code> 安全握手（只能由你的書籤觸發）。</li>
      </ul>
    </div>

    <div class="card" style="margin-top:18px">
      <h3 style="margin:0 0 8px">常見問題 FAQ</h3>
      <ul style="margin:8px 0; padding-left:20px; line-height:1.6">
        <li><b>Q1：點書籤沒反應？</b><br>
            ➜ 請檢查瀏覽器是否「阻擋彈出式視窗」。<br>
            ➜ 允許彈出後再點一次即可。</li>

        <li><b>Q2：為什麼 Facebook 可以跑，其他網站卻不行？</b><br>
            ➜ 有些網站設有嚴格的 <code>CSP</code> 安全政策，會阻止注入。<br>
            ➜ 建議先重新整理頁面F5，再點一次書籤，或改在支援的網站上使用。</li>

        <li><b>Q3：手機上能用嗎？</b><br>
            ➜ 手機瀏覽器可以存書籤，但大部分不支援這類 <code>javascript:</code> 程式。<br>
            ➜ 請改用桌機瀏覽器操作；iOS/Android 的 FB App 內建瀏覽器也不支援。</li>

        <li><b>Q4：按了之後跑出奇怪的「暫停」畫面？</b><br>
            ➜ 這是正常的除錯模式，代表 DevTools 已打開。<br>
            ➜ 請按 <b>F8</b> 或 DevTools 上的「▶」繼續執行。</li>

        <li><b>Q5：要怎麼更新？</b><br>
            ➜ 書籤不用重加，會自動以最新版本的面板檔案。<br>
            ➜ 若出現異常，可清除快取或通知管理者。</li>

        <li><b>Q6：安全嗎？會不會外流？</b><br>
            ➜ 書籤僅連結，本身不含核心程式，也未加裝任何程式。<br>
            ➜ 即使有人直接開檔案，也需要通過檢核碼才能運作。<br>
            ➜ 之後版本會逐步增加檢核碼驗證，安全性更高。</li>
      </ul>
    </div>

    <footer>Made for 33 · 單顆書籤，輕鬆刪文 🐍</footer>
  </div>
</body>
</html>
